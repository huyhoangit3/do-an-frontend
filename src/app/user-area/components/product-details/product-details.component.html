<div class="container-fluid bg-light">
  <div class="row">
    <!-- Related products section-->
    <div class="col-md-3 mt-3">
      <div class="card">
        <div class="card-body">
          <h4 class="header-title mb-4">Sản phẩm bán chạy</h4>
          <div class="list-group" style="cursor: pointer;">
            <a *ngFor="let p of hotProducts" [routerLink]="['/products', p.id, 'details']" class="list-group-item list-group-item-action list-group-item-info"> {{ p.name }}</a>
          </div>
        </div>
      </div>
      <!--      </div>-->
    </div>
    <!-- End related products section-->
    <!-- Product details section-->
    <div class="col-md-9">
      <div class="container my-3">
        <div class="row gx-4 gx-lg-5 align-items-center">
          <div class="col-md-5"><img [src]="product.imgUrl | image" class="card-img-top"
              style="height: 400px; border: 1px solid gainsboro;" alt="Apple Computer" /></div>
          <div class="col-md-7">
            <h3 class="display-5 fw-bolder"> {{ product.name }}</h3>
            <div class="fs-5 mb-5">
              <span class="text-decoration-line-through"><b>Nhà sản xuất: </b>{{ product.producer}}</span><br>
              <span *ngIf="product.fragrant" class="text-decoration-line-through"><b>Mùi hương: </b>{{
                product?.fragrant}}</span><br>
              <span class="text-decoration-line-through"><b>Đã bán: </b> {{ product.sold}}</span><br>
              <span class="text-decoration-line-through"><b>Giá: </b> {{product.price | number: '4.0'}} VNĐ</span><br>
              <span class="text-decoration-line-through"><b>Trọng lượng: </b> {{ product.weight}}g</span>

            </div>

            <p class="lead">{{ product.description}}</p>
            <div class="d-flex">
              <span style="display: inline-block; padding: 5px;"><b>Số lượng: </b></span>
              <input class="form-control quantity" type="number" value="1" min="1" [max]="product.quantity"
                style="max-width: 5rem" />
              <span style="display: inline-block; font-size: 20px; padding: 0 5px">/</span>
              <input class="form-control quantity me-3" type="text" [value]="product.quantity" style="max-width: 5rem"
                disabled />
              <button class="btn btn-outline-dark flex-shrink-0" type="button">
                <i class="bi-cart-fill me-1"></i>
                Add to cart
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End product details section-->
  </div>

  <div class="row">
    <!-- Related items section-->
    <div class="container-fluid">
      <h3 class="mb-4 pl-5">Sản phẩm cùng loại</h3>
      <div class="row justify-content-center">
        <div *ngFor="let p of relatedProducts" class="col-12 col-md-2 col-lg-2 col-xl-2 my-3"
          style="padding: 0; margin: 0 10px;">
          <div class="card text-black" [routerLink]="['/products', p.id, 'details']">
            <img style="padding: 5px;" [src]="p.imgUrl | image" class="card-img-top mx-auto d-block"
              alt="Anh minh hoa" />
            <hr>
            <div class="card-body">
              <div class="text-center">
                <p class="card-title"> {{ p.name }}</p>
                <span><b> {{ p.price }}</b></span>
              </div>
              <div class="d-flex justify-content-between my-1">
                <button type="button" class="btn btn-outline-primary w-100" style="border-radius: 20px;"
                  (click)="onAddToCart();$event.stopPropagation()"> <i class="fa-solid fa-cart-plus fa-xl"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>